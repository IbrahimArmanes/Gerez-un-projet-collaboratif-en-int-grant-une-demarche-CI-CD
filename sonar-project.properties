# Fichier: sonar-project.properties
#
# Remplacez les valeurs ci-dessous par les vôtres.

# Fichier: sonar-project.properties

# Clé de votre organisation sur SonarCloud
sonar.organization=ibrahimarmanes

# Clé de votre projet sur SonarCloud
sonar.projectKey=IbrahimArmanes_Gerez-un-projet-collaboratif-en-int-grant-une-demarche-CI-CD
# --- Configuration du projet (MODIFIÉE) ---

# Le code source principal se trouve ici.
sonar.sources=back/src/main, front/src

# Les fichiers de test sont dans le dossier de test du back-end.
# On a enlevé 'front/src' d'ici pour éviter la duplication.
sonar.tests=back/src/test

# AJOUT : On dit à Sonar que, DANS 'front/src', tous les fichiers finissant
# par .spec.ts doivent être considérés comme des fichiers de test.
sonar.test.inclusions=front/src/**/*.spec.ts

# AJOUT : On exclut ces mêmes fichiers de test du code "source" pour
# éviter les conflits et avoir des métriques de couverture correctes.
sonar.exclusions=front/src/**/*.spec.ts

# Indique à Sonar d'utiliser l'encodage UTF-8
sonar.sourceEncoding=UTF-8

# --- Configuration de la couverture de test (inchangée) ---

# Chemin vers le rapport JaCoCo (pour le back-end Java)
sonar.java.coveragePlugin=jacoco
sonar.coverage.jacoco.xmlReportPaths=back/target/site/jacoco/jacoco.xml

# Chemin vers le rapport LCOV (pour le front-end Angular)
sonar.javascript.lcov.reportPaths=front/coverage/lcov.info


# --- Configuration du projet ---

# Indique à Sonar où trouver le code source à analyser
sonar.sources=./back/src/main, ./front/src

# Indique à Sonar où se trouvent les fichiers de test
sonar.tests=./back/src/test, ./front/src

# Indique à Sonar d'utiliser l'encodage UTF-8
sonar.sourceEncoding=UTF-8


# --- Configuration de la couverture de test ---
# Nous indiquons explicitement où trouver les rapports que nous générons

# Chemin vers le rapport JaCoCo (pour le back-end Java)
sonar.java.coveragePlugin=jacoco
sonar.coverage.jacoco.xmlReportPaths=back/target/site/jacoco/jacoco.xml

# Chemin vers le rapport LCOV (pour le front-end Angular)
# Le rapport lcov.info est le format standard que Sonar lit.
sonar.javascript.lcov.reportPaths=front/coverage/lcov.info
